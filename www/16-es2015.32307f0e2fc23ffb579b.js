(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"ct+p":function(t,e,n){"use strict";n.r(e),n.d(e,"HomePageModule",(function(){return p}));var i=n("ofXK"),s=n("TEn/"),o=n("3Pt+"),l=n("tyNb"),r=n("fXoL");const c=["searchDepth"],a=["moveTurn"];function h(t,e){if(1&t&&r.Kb(0,"pre",16),2&t){const t=r.Vb();r.Yb("innerHTML",t.result,r.ac)}}const b=[{path:"",component:(()=>{class t{constructor(){this.showResult=!1,this.result=""}ngOnInit(){this.game=new Chess,this.board=ChessBoard("board",{draggable:!0,dropOffBoard:"trash",sparePieces:!0})}start(){this.findSolution()}stop(){this.result="",this.showResult=!1}clear(){this.board.clear(),this.game.clear(),this.result="",this.showResult=!1}findSolution(){let t,e;this.depth_think=parseInt(this.depth_think_selector.nativeElement.value),e=parseInt(this.move_turn_selector.nativeElement.value),t=e%2==0?"w":"b";let n=this.board.position("fen")+" "+t+" KQkq - 0 1";this.game.load(n);let i=this.iterativeSolution();if(i&&i.length>0){let t="";i.forEach(e=>{Array.isArray(e)?(e.forEach(t=>{t=Array.isArray(t)?t.join(""):t}),t+="<ul>"+e.join("")+"</ul>"):t+="<b>"+e+"</b><br>"}),console.log(i),this.result=t}else this.result="No solution.";this.showResult=!0}iterativeSolution(){let t=[];if(1==this.depth_think)return this.allMoves(),this.possibleMoves&&0!=this.possibleMoves.length?(this.possibleMoves.forEach(e=>{e.includes("#")&&t.push(e)}),t):t;let e=[];if(2==this.depth_think){if(e=this.allMoves(),!this.possibleMoves||0==this.possibleMoves.length)return t;for(let n=0;n<e.length;n++){if(e[n].includes("#"))continue;t.push("1."+e[n]),this.game.move(e[n]),this.allMoves();let i,s=this.possibleMoves,o=[];if(s&&0!=s.length)for(let e=0;e<s.length;e++){i=s[e],this.game.move(i),this.allMoves();let n=[];if(this.possibleMoves.forEach(t=>{t.includes("#")&&n.push(t)}),0==n.length){this.game.undo(),this.game.undo(),this.allMoves(),t.pop();break}n.length>0&&(o.push("<li>2."+i+" - "+n[0]+"</li>"),this.game.undo(),e==s.length-1&&(t.push(o),o=[],this.game.undo()))}else t.pop()}return t}if(3==this.depth_think){if(e=this.allMoves(),!this.possibleMoves||0==this.possibleMoves.length)return t;let n=this.game.fen();for(let i=0;i<e.length;i++){if(e[i].includes("#"))continue;t.push("1."+e[i]),this.game.move(e[i]),this.allMoves();let s,o=this.possibleMoves,l=[];if(!o||0==o.length){t.pop();continue}let r=this.game.fen();for(let e=0;e<o.length;e++)s=o[e],t.push("<li> >> "+s+"</li>"),this.game.move(s),this.depth_think>2&&this.depth_think--,l=this.iterativeSolution(),l.length>0?(t.push(l),this.game.load(r)):(t.pop(),t.pop(),this.game.load(n))}return t}}allMoves(){if("8/8/8/8/8/8/8/8"!=this.game.fen().split(" ")[0])return this.possibleMoves=this.removeOOO(this.game.moves()),this.possibleMoves}removeOOO(t){if(!t||0==t.length)return t;let e=t.indexOf("O-O");return-1!=e&&t.splice(e,1),-1!=t.indexOf("O-O-O")&&t.splice(e,1),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-home"]],viewQuery:function(t,e){var n;1&t&&(r.fc(c,!0),r.fc(a,!0)),2&t&&(r.Zb(n=r.Ub())&&(e.depth_think_selector=n.first),r.Zb(n=r.Ub())&&(e.move_turn_selector=n.first))},decls:31,vars:3,consts:[[3,"translucent"],[1,"form-group"],[1,"form-control"],["searchDepth",""],["value","1"],["value","2","selected",""],["value","3"],["moveTurn",""],["value","0","selected",""],["type","button","id","solve","value","Start",1,"btn","btn-success",3,"click"],["type","button","id","stop","value","Stop",1,"btn","btn-danger",3,"click"],["type","button","id","clear","value","Clear",1,"btn","btn-info",3,"click"],[3,"fullscreen"],["id","container"],["id","board",1,"board"],["id","res",3,"innerHTML",4,"ngIf"],["id","res",3,"innerHTML"]],template:function(t,e){1&t&&(r.Mb(0,"ion-header",0),r.Mb(1,"ion-toolbar"),r.Mb(2,"form"),r.Mb(3,"div",1),r.Mb(4,"label"),r.ec(5,"How many steps?"),r.Lb(),r.Mb(6,"select",2,3),r.Mb(8,"option",4),r.ec(9,"1"),r.Lb(),r.Mb(10,"option",5),r.ec(11,"2"),r.Lb(),r.Mb(12,"option",6),r.ec(13,"3"),r.Lb(),r.Lb(),r.Kb(14,"br"),r.Mb(15,"label"),r.ec(16,"First move by:"),r.Lb(),r.Mb(17,"select",2,7),r.Mb(19,"option",8),r.ec(20,"White"),r.Lb(),r.Mb(21,"option",4),r.ec(22,"Black"),r.Lb(),r.Lb(),r.Lb(),r.Mb(23,"div",1),r.Mb(24,"input",9),r.Tb("click",(function(){return e.start()})),r.Lb(),r.Mb(25,"input",10),r.Tb("click",(function(){return e.stop()})),r.Lb(),r.Mb(26,"input",11),r.Tb("click",(function(){return e.clear()})),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(27,"ion-content",12),r.Mb(28,"div",13),r.Kb(29,"div",14),r.dc(30,h,1,1,"pre",15),r.Lb(),r.Lb()),2&t&&(r.Yb("translucent",!1),r.zb(27),r.Yb("fullscreen",!0),r.zb(3),r.Yb("ngIf",e.showResult))},directives:[s.c,s.e,o.g,o.c,o.d,o.e,o.f,s.b,i.h],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.board[_ngcontent-%COMP%]{width:90vw;margin:40px auto auto}#res[_ngcontent-%COMP%], .form-line[_ngcontent-%COMP%]{display:flex}#res[_ngcontent-%COMP%]{flex-direction:column;overflow-y:auto}#res[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{margin-top:10px;display:block;margin-bottom:-10px}#res[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]:first-child{-webkit-margin-before:0;margin-block-start:0}#res[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px}#res[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:circle}#res[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}"]}),t})()}];let u=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[l.i.forChild(b)],l.i]}),t})(),p=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[i.b,o.a,s.f,u]]}),t})()}}]);